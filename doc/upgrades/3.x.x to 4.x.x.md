# Migration guide for versions 4.x.x -> 5.x.x

The most important change this release includes is the replacement of the HTTP library from a native one to
OkHttp which allows SDK to

 - Support the HTTP2 version of the HTTP protocol.
 - Support proxies that do not use only basic authentication method. For details on creating custom proxy authenticators and an example of
NTLM proxy authentication, see [here](https://github.com/box/box-java-sdk/blob/kb/ok-http/doc/configuration.md#custom-proxy-authenticator).
 - 
# Configuration changes

## MaxRequestAttempts
The `MaxRequestAttempts` are removed from `com.box.sdk.BoxGlobalSettings` and replaced with `MaxRetryAttempts`. 
However, if you have API connection stored with the deprecated `MaxRequestAttempts` value it will be restored into `MaxRetryAttempts`.

# Removed deprecated methods and classes
1. `com.box.sdk.BoxAPIRequest.BoxAPIRequest(java.net.URL, java.lang.String)`

# Replaced methods and classes
1. `com.box.sdk.BoxDeveloperEditionAPIConnection` - removed all constructors that do not accept `com.box.sdk.IAccessTokenCache`. Use versions that accepts cache parameter
2. `com.box.sdk.BoxDeveloperEditionAPIConnection#getAppUserConnection` - replaced with com.box.sdk.BoxDeveloperEditionAPIConnection#getUserConnection
3. `com.box.sdk.BoxEvent.getType` - replaced with `com.box.sdk.BoxEvent.getEventType`
4. `com.box.sdk.BoxEvent.Type` - replaced with `com.box.sdk.BoxEvent.EventType`
5. `com.box.sdk.BoxItem.createSharedLink` - removed methods that do not use `com.box.sdk.sharedlink.BoxSharedLinkRequest`, please ones that use it
6. `com.box.sdk.BoxFile.createSharedLink`- removed methods that do not use `com.box.sdk.sharedlink.BoxSharedLinkRequest`, please ones that use it
7. `com.box.sdk.BoxFolder.createSharedLink`- removed methods that do not use `com.box.sdk.sharedlink.BoxSharedLinkRequest`, please ones that use it
8. `com.box.sdk.BoxWebLink.createSharedLink` - removed methods that do not use `com.box.sdk.sharedlink.BoxSharedLinkRequest`, please ones that use it
9. `com.box.sdk.BoxFile.uploadVersion` - methods are replaced with `com.box.sdk.BoxFile.uploadNewVersion`
10. `com.box.sdk.BoxFolder.search` - is replaced with class `com.box.sdk.BoxSearch`
11. `com.box.sdk.BoxGroup` - removed mthods that use `com.box.sdk.BoxGroupMembership.Role`, please use ones that uses `com.box.sdk.BoxGroupMembership.GroupRole`
12. `com.box.sdk.BoxGroupMembership.Role` - replaced with `com.box.sdk.BoxGroupMembership.GroupRole`
13. `com.box.sdk.BoxGroupMembership.Info.getRole` - replaced with `com.box.sdk.BoxGroupMembership.Info.getGroupRole`
14. `com.box.sdk.BoxGroupMembership.Info.setRole` - replaced with `com.box.sdk.BoxGroupMembership.Info.setGroupRole`
15. `com.box.sdk.BoxFileVersionRetention.getAll` - replaced with `com.box.sdk.BoxRetentionPolicyAssignment.getFilesUnderRetention` or `com.box.sdk.BoxRetentionPolicyAssignment.getFileVersionsUnderRetention`
16. `com.box.sdk.BoxRetentionPolicy.createFinitePolicy(com.box.sdk.BoxAPIConnection, java.lang.String, int, java.lang.String)` - replaced with `com.box.sdk.BoxRetentionPolicy.createFinitePolicy(com.box.sdk.BoxAPIConnection, java.lang.String, int, com.box.sdk.BoxRetentionPolicy.BoxRetentionPolicyAction)`
17. `com.box.sdk.BoxRetentionPolicy.createFinitePolicy(com.box.sdk.BoxAPIConnection, java.lang.String, int, java.lang.String, com.box.sdk.RetentionPolicyParams)` - replaced with `com.box.sdk.BoxRetentionPolicy.createFinitePolicy(com.box.sdk.BoxAPIConnection, java.lang.String, int, com.box.sdk.BoxRetentionPolicy.BoxRetentionPolicyAction, com.box.sdk.RetentionPolicyParams)`
18. `com.box.sdk.BoxGlobalSettings.getMaxRequestAttempts` - replaced with `com.box.sdk.BoxGlobalSettings.getMaxRetryAttempts`
19. `com.box.sdk.BoxGlobalSettings.setMaxRequestAttempts` - replaced with `com.box.sdk.BoxGlobalSettings.setMaxRetryAttempts`
20. `com.box.sdk.EventLog.getEnterpriseEvents(com.box.sdk.BoxAPIConnection, java.lang.String, java.util.Date, java.util.Date, BoxEvent.Type...)` - replaced with `com.box.sdk.EventLog.getEnterpriseEvents(com.box.sdk.BoxAPIConnection, com.box.sdk.EnterpriseEventsRequest)`
21. `com.box.sdk.EventLog.getEnterpriseEvents(com.box.sdk.BoxAPIConnection, java.util.Date, java.util.Date, BoxEvent.Type...)` - replaced with `com.box.sdk.EventLog.getEnterpriseEvents(com.box.sdk.BoxAPIConnection, com.box.sdk.EnterpriseEventsRequest)`
22. `com.box.sdk.EventLog.getEnterpriseEvents(com.box.sdk.BoxAPIConnection, java.lang.String, java.util.Date, java.util.Date, int, BoxEvent.Type...)` - replaced with `com.box.sdk.EventLog.getEnterpriseEvents(com.box.sdk.BoxAPIConnection, com.box.sdk.EnterpriseEventsRequest)`
23. `` - replaced with ``
